(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{FFBz:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/manager/detail",function(){return n("cuM7")}])},cuM7:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),c=n.n(a),o=n("rePB"),r=n("ODXe"),i=n("R/WZ"),u=n("hlFM"),p=c.a.createElement;function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={time:0,user:null,pic:{time:0,merchid:"",paytype:""}},f=function(e,t){switch(t.type){case"change":return s(s({},e),{},{time:(new Date).getTime()});case"user":return s(s({},e),{},{user:t.payload});case"pic":return s(s({},e),{},{pic:t.payload});default:return e}},m=c.a.createContext(null),y=function(e){var t=c.a.useReducer(f,d),n=Object(r.a)(t,2),a=n[0],o=n[1];return p(m.Provider,{value:{state:a,dispatch:o}},e.children)},b=n("nOHt"),h=n("Z3vd"),O=n("hZH8"),g=n.n(O),v=n("iuhU"),j=n("wb2y"),w=c.a.createElement,F=Object(i.a)((function(e){return{root:{},title:{width:"100%",color:"#212121",fontWeight:500,fontSize:"1.5rem",padding:e.spacing(2,1),backgroundColor:"#FFFFFF",boxShadow:"0 5px 12px rgba(0,0,0,.3)",borderRadius:4},divi:{width:"100%",height:1,marginTop:20},itemTitle:{backgroundColor:e.palette.primary.main,color:"#FFFFFF",padding:8},itemDes:{backgroundColor:"#FFFFFF",padding:8}}})),P=function(e){var t=e.item,n=F(),a=[{title:"\u7528\u6237\u540d",dataIndex:"username",width:"10%"},{title:"\u90ae\u7bb1",dataIndex:"email",width:"20%"},{title:"\u624b\u673a",dataIndex:"phone",width:"10%"},{title:"\u5546\u6237\u53f7",dataIndex:"merchid",width:"20%"},{title:"\u6ce8\u518c\u65f6\u95f4",dataIndex:"createTime",width:"20%"},{title:"\u8d26\u6237\u72b6\u6001",dataIndex:"state",width:"10%"},{title:"\u8d26\u6237\u4f59\u989d",dataIndex:"blance",width:"10%"}];return w("div",{className:n.root},w(j.a,{className:n.divi}),w(u.a,{display:"flex",border:"1px solid #e0e0e0"},a.map((function(e,a){return w(u.a,{key:a,ml:"1px",width:e.width},w(u.a,{className:n.itemTitle},e.title),w(u.a,{className:n.itemDes},t[e.dataIndex]))}))))},x=n("2VWw"),k=n("3H+2"),A=n("DIYV"),E=n("KQm4"),I=n("1iKp"),T=n.n(I),N=n("kKAo"),C=n("jjAL"),D=n("t0WV"),z=n("668i"),S=n("d829"),L=n("0NzB"),R=n("XwMy"),W=c.a.createElement;function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H=Object(i.a)((function(e){return{root:{},btn:{color:"#757575",fontSize:"1rem",fontWeight:500,minWidth:88,height:32,border:"none",padding:"1px 8px"},paper:{zIndex:10,width:300,position:"absolute"},paperPay:{zIndex:10,width:100,position:"absolute"},check:{background:e.palette.primary.main,color:"#FFFFFF",minWidth:100,height:56,padding:"1px 8px"}}})),q=function(e){var t=e.item,n=H(),a=Object(S.getUser)(),o=c.a.useContext(m),i=c.a.useRef(null),p=c.a.useRef(null),l=c.a.useState({account:{accname:"\u5168\u90e8",uuid:"0",cusMerchid:""},openAccount:!1,typeAccountTxt:"\u5168\u90e8",accountList:[],pay:{aitype:"",asname:"\u5168\u90e8"},openPay:!1,typePayTxt:"\u5168\u90e8",payList:[]}),s=Object(r.a)(l,2),d=s[0],f=s[1];c.a.useEffect((function(){return y()}),[]);var y=function(){Promise.all([Object(L.postJson)({path:R.a+"auth/listaccount?cusMerchid=".concat(t.merchid),headers:{"X-PLATFORM":"WEBAPP","X-AUTH-TOKEN":a.token}}),Object(L.postJson)({path:R.a+"/auth/queryC",headers:{"X-PLATFORM":"WEBAPP","X-AUTH-TOKEN":a.token}})]).then((function(e){var t=Object(r.a)(e,2),n=t[0],a=t[1],c=[],o=[];"0000"===n.cood&&(c=[{accname:"",uuid:"0"}].concat(Object(E.a)(n.pageinfo)),console.log("accountList",c)),"0000"===a.code&&(o=[{aitype:"",asname:"\u5168\u90e8"}].concat(Object(E.a)(a.list))),f(M(M({},d),{},{accountList:c,payList:o}))}))},b=c.a.useRef(d.openAccount);c.a.useEffect((function(){!0===b.current&&!1===d.openAccount&&i.current.focus(),b.current=d.openAccount}),[d.openAccount]);var O=c.a.useRef(d.openPay);c.a.useEffect((function(){!0===O.current&&!1===d.openPay&&p.current.focus(),O.current=d.openPay}),[d.openPay]);return console.log("state",d),W(u.a,{display:"flex"},W(u.a,{width:"400px",display:"flex",alignItems:"center"},W(u.a,null,"\u8d26\u6237\u540d\u79f0:"),W(u.a,{position:"relative",zIndex:10},W(h.a,{className:n.btn,ref:i,"aria-controls":d.openAccount?"menu-list-type":void 0,"aria-haspopup":"true",onClick:function(){f(M(M({},d),{},{openAccount:function(e){return!e}}))},endIcon:W(T.a,null)},d.typeAccountTxt),d.openAccount&&W(N.a,{className:n.paper},W(z.a,{onClickAway:function(e,t){i.current&&i.current.contains(e.target)||f(M(M({},d),{},{openAccount:!1}))}},W(D.a,{autoFocusItem:d.openAccount,id:"menu-list-type",onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),f(M(M({},d),{},{openAccount:!1})))}},d.accountList.map((function(e,t){return W(C.a,{key:t,onClick:(n=e.uuid,function(){d.accountList.forEach((function(e){e.uuid===n&&f(M(M({},d),{},{account:e,typeAccountTxt:e.accname,openAccount:!1}))}))})},e.accname);var n}))))))),W(u.a,{width:"200px",ml:4,mr:2,display:"flex",alignItems:"center"},W(u.a,null,"\u7c7b\u578b:"),W(u.a,{position:"relative",zIndex:10},W(h.a,{className:n.btn,ref:p,"aria-controls":d.openPay?"menu-list-pay":void 0,"aria-haspopup":"true",onClick:function(){f(M(M({},d),{},{openPay:function(e){return!e}}))},endIcon:W(T.a,null)},d.typePayTxt),d.openPay&&W(N.a,{className:n.paperPay},W(z.a,{onClickAway:function(e,t){p.current&&p.current.contains(e.target)||f(M(M({},d),{},{openPay:!1}))}},W(D.a,{autoFocusItem:d.openPay,id:"menu-list-pay",onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),f(M(M({},d),{},{openPay:!1})))}},d.payList.map((function(e,t){return W(C.a,{key:t,onClick:(n=e.aitype,function(){d.payList.forEach((function(e){e.aitype===n&&f(M(M({},d),{},{typePayTxt:e.asname,openPay:!1,pay:e}))}))})},e.asname);var n}))))))),W(h.a,{variant:"contained",color:"primary",className:n.check,onClick:function(){var e={time:(new Date).getTime(),merchid:d.account.cusMerchid,paytype:d.pay.aitype};o.dispatch({type:"pic",payload:e})}},"\u67e5\u8be2"))},_=n("D1Df"),K=n.n(_),B=n("LXXt"),J=c.a.createElement,U=Object(i.a)((function(e){return{root:{width:"100%",overflowX:"auto",margin:e.spacing(1,0),display:"flex",flexWrap:"wrap"},table:{minWidth:700,fontSize:"0.75rem"},qrCode:{width:150,height:150,backgroundColor:B.a[200],border:"1px solid ".concat(B.a[300]),display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.875rem",color:B.a[900],fontWeight:500}}})),V=function(e){var t=e.item,n=Object(S.getUser)(),a=c.a.useContext(m),o=U({}),i=c.a.useState([]),p=Object(r.a)(i,2),l=p[0],s=p[1];c.a.useEffect((function(){d()}),[JSON.stringify(a.state.pic)]);var d=function(){var e={};a.state.pic.merchid?e.cus_merchid=a.state.pic.merchid:e.cus_merchid=t.merchid,a.state.pic.paytype&&(e.paytype=a.state.pic.paytype);var c=Object.keys(e).filter((function(t){return""!==e[t]})).map((function(t){return""!==t&&t+"="+e[t]})).join("&");Object(L.postJson)({path:R.a+"/auth/query?"+c,headers:{"X-PLATFORM":"WEBAPP","X-AUTH-TOKEN":n.token}}).then((function(e){console.log(e),"0000"===e.code&&s(e.data||[])}))};return J("div",null,J(N.a,{className:o.root},l.map((function(e,t){return J(u.a,{key:t,width:"200px",height:"200px",display:"flex",flexDirection:"column",alignItems:"center"},J(u.a,{className:o.qrCode},J(K.a,{value:e.aliqrurl,size:120,fgColor:"#000000",imageSettings:{src:0===e.accpaytype?"".concat(R.b,"/static/alipay.png"):"".concat(R.b,"/static/wxpay.png"),width:25,height:25}})),J(u.a,{fontWeight:500,fontSize:"1.25rem"},"\xa5",e.money))}))))},Z=c.a.createElement,Q=Object(i.a)((function(){return{root:{}}})),Y=function(e){var t=e.item,n=Q();return console.log("item",t),Z("div",{className:n.root},Z(q,{item:t}),Z(V,{item:t}))},G=c.a.createElement,$=Object(i.a)((function(e){return{root:{},button:{width:200,height:60,display:"flex",justifyContent:"space-around",color:e.palette.primary.main,background:"#FFFFFF","&:hover":{background:e.palette.primary.main,color:"#FFFFFF"},marginRight:e.spacing(4)},buttonActive:{background:e.palette.primary.main,color:"#FFFFFF"}}})),ee=function(){var e=$(),t=Object(b.useRouter)(),n=c.a.useState({}),a=Object(r.a)(n,2),i=a[0],p=a[1],l=c.a.useState(0),s=Object(r.a)(l,2),d=s[0],f=s[1];c.a.useEffect((function(){p(t.query)}),[JSON.stringify(t.query)]);var m=function(e){f(e)};return G("div",{className:e.root},G(y,null,G(P,{item:i}),G(u.a,{display:"flex",mt:2,mb:2},G(h.a,{variant:"contained",color:"primary",onClick:function(){return m(1)},className:Object(v.a)(e.button,Object(o.a)({},e.buttonActive,1===d)),endIcon:G(g.a,null)},"\u4f59\u989d\u660e\u7ec6"),G(h.a,{variant:"contained",color:"primary",onClick:function(){return m(2)},className:Object(v.a)(e.button,Object(o.a)({},e.buttonActive,2===d)),endIcon:G(g.a,null)},"\u6536\u6b3e\u8d26\u6237"),G(h.a,{variant:"contained",color:"primary",onClick:function(){return m(3)},className:Object(v.a)(e.button,Object(o.a)({},e.buttonActive,3===d)),endIcon:G(g.a,null)},"\u8ba2\u5355\u8be6\u60c5"),G(h.a,{variant:"contained",color:"primary",onClick:function(){return m(4)},className:Object(v.a)(e.button,Object(o.a)({},e.buttonActive,4===d)),endIcon:G(g.a,null)},"\u6536\u6b3e\u4e8c\u7ef4\u7801")),1===d?G(x.a,{item:i}):2===d?G(k.a,{item:i}):3===d?G(A.a,{item:i}):4===d?G(Y,{item:i}):null))},te=c.a.createElement;t.default=function(){return te(ee,null)}},hZH8:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=a(n("q1tI")),o=(0,a(n("8/g6")).default)(c.default.createElement("path",{d:"M3 15h18v-2H3v2zm0 4h18v-2H3v2zm0-8h18V9H3v2zm0-6v2h18V5H3z"}),"Reorder");t.default=o}},[["FFBz",0,1,9,2,3,4,5,6,8,10,7,11,13,14,15]]]);