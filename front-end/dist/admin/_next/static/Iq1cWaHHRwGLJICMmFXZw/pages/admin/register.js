(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{"9RDT":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/register",function(){return n("x2FS")}])},VyZx:function(e,t,n){t.checkTargetLocale=t.check=void 0;var r=n("c+FU");t.checkTargetLocale=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CN";return!r.phones[t]||r.phones[t].test(e)}},"c+FU":function(e,t){t.phones=void 0;t.phones={HK:/^(\+?852-?)?[569]\d{3}-?\d{4}$/,CN:/^(\+?0?86-?)?1[3456789]\d{9}$/}},x2FS:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),a=n.n(r),o=n("rePB"),l=n("ODXe"),i=n("R/WZ"),c=n("Z3vd"),u=n("ofer"),s=n("XwMy"),d=n("iuhU"),p=n("nOHt"),h=n("d829"),f=n("0NzB"),g=n("+tNc"),b=n("tg6W"),m=n("iae6"),v=n("30+C"),O=n("hlFM"),x=n("LXXt"),w=n("UA+C"),y=n("wx14"),j=n("Ff2n"),T=n("2frL"),E=a.a.createElement,k=function(e){var t=e.notEmpty,n=void 0!==t&&t,r=e.value,o=e.disabled,i=void 0!==o&&o,c=e.onChange,u=e.fullWidth,s=e.label,d=e.placeholder,p=e.errorText,h=void 0===p?"":p,f=Object(j.a)(e,["notEmpty","value","disabled","onChange","fullWidth","label","placeholder","errorText"]),g=a.a.useState(""),b=Object(l.a)(g,2),m=b[0],v=b[1];a.a.useEffect((function(){v(h)}),[h]);return E(T.a,Object(y.a)({label:s,placeholder:d,fullWidth:u,value:r,disabled:i,onChange:function(e){var t=e.target.value,r=function(e,t){return t||""!==e.trim()?""===e.trim()?"\u8bf7\u8f93\u5165E-mail":t&&!/^[a-zA-Z0-9_.-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(e)?"E-mail\u8f93\u5165\u6709\u8bef\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165":e.length>100?"\u8f93\u5165\u7684\u4fe1\u606f\u8fc7\u957f\uff0c\u8bf7\u68c0\u67e5\u540e\u91cd\u65b0\u8f93\u5165":"":""}(t,n);v(r),c&&c(t,0===r.length)},error:m.length>0,helperText:m,onBlur:f.onBlur},f))},C=n("VyZx"),W=a.a.createElement,P=function(e){var t=e.notEmpty,n=void 0!==t&&t,r=e.defaultValue,o=void 0===r?"":r,i=e.locale,c=e.onChange,u=e.disabled,s=void 0!==u&&u,d=e.fullWidth,p=e.label,h=e.placeholder,f=e.emptyErrorText,b=e.longErrorText,m=e.enterErrorText,v=e.showErrorText,O=Object(j.a)(e,["notEmpty","defaultValue","locale","onChange","disabled","fullWidth","label","placeholder","emptyErrorText","longErrorText","enterErrorText","showErrorText"]),x=a.a.useState(""),w=Object(l.a)(x,2),T=w[0],E=w[1],k=a.a.useState(""),P=Object(l.a)(k,2),N=P[0],S=P[1];a.a.useEffect((function(){E(o)}),[o]),a.a.useEffect((function(){S(v||"")}),[v]);return W(g.a,Object(y.a)({label:p,placeholder:h,fullWidth:d,value:T,disabled:s,onChange:function(e){var t=e.target.value;E(t);var r=function(e,t,n,r,a,o){return t||""!==e.trim()?""===e.trim()?r||"\u8bf7\u9009\u62e9\u8054\u7cfb\u65b9\u5f0f":e.length>50?a||"\u8f93\u5165\u7684\u4fe1\u606f\u8fc7\u957f\uff0c\u8bf7\u68c0\u67e5\u540e\u91cd\u65b0\u8f93\u5165":Object(C.checkTargetLocale)(e,n)?"":o||"\u624b\u673a\u53f7\u7801\u8f93\u5165\u6709\u8bef\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165":""}(t,n,i,f,b,m);S(r),c&&c(t,0===r.length)},error:N.length>0,helperText:N},O))},N=n("/wep"),S=a.a.createElement;function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F=Object(i.a)((function(e){return{root:{width:"100%",minHeight:"100vh",display:"flex",flexFlow:"column",alignItems:"center"},logo:{width:300},peopleImg:{width:100,height:108},title:{fontWeight:500,fontSize:"2rem",color:x.a[900],padding:e.spacing(8,0)},content:{width:480,boxShadow:"0px 5px 5px -3px rgba(33,33,33,0.16),0px 3px 14px 2px rgba(33,33,33,0.08),0px 8px 10px 1px rgba(33,33,33,0.1)",margin:"0 auto",padding:e.spacing(4,3)},emailTop:{margin:e.spacing(6,4,.5,4)},login:{height:48,borderRadius:e.spacing(3.5),fontWeight:500,fontSize:"0.875rem"},loginTop:{marginTop:e.spacing(5)},register:{color:x.a[600],fontSize:"0.875rem",marginTop:e.spacing(1),textAlign:"center",cursor:"pointer"}}})),U=function(e){var t=e.className,n=F(),r=Object(p.useRouter)(),i=a.a.useState(!1),x=Object(l.a)(i,2),y=x[0],j=x[1],T=a.a.useState({username:"",email:"",phone:"",password:"",passwordT:"",keyenter:0,errPWText:"",err:""}),E=Object(l.a)(T,2),C=E[0],W=E[1],_=function(){j(!0),Object(f.postJson)({path:s.a+"/auth/register?email=".concat(C.email,"&username=").concat(C.username,"&password=").concat(C.password,"&phone=").concat(C.phone),headers:{"X-PLATFORM":"WEBAPP"}}).then((function(e){if(console.log(e),j(!1),"0000"===e.code){var t=e.data.token;Object(h.saveUser)({token:t,account:C.username}),Object(N.m)().then((function(e){e.account=C.username,e.token=t,console.log(e),Object(h.saveUser)(e),r.push(s.b)}))}else W(z(z({},C),{},{err:e.message}))}))},U=function(e){return function(t){return W(z(z({},C),{},Object(o.a)({},e,t)))}},A=function(e){13===e.keyCode&&W(z(z({},C),{},{keyenter:C.keyenter+1}))};return a.a.useEffect((function(){0!==C.keyenter&&_()}),[C.keyenter]),S("div",{className:Object(d.a)(n.root,t)},S("div",{className:n.title},"\u7ba1\u7406\u540e\u53f0\u6ce8\u518c"),S(v.a,{className:n.content},S(O.a,{mt:2},S(g.a,{label:"\u7528\u6237\u540d",fullWidth:!0,onChange:function(e){return W(z(z({},C),{},{username:e.target.value}))},variant:"outlined"})),S(O.a,{mt:2},S(P,{label:"\u624b\u673a",fullWidth:!0,onChange:U("phone"),variant:"outlined"})),S(O.a,{mt:2},S(k,{label:"\u90ae\u7bb1",fullWidth:!0,onChange:U("email"),variant:"outlined"})),S(O.a,{mt:2},S(b.a,{onChange:U("password"),errorText:C.errPWText,onKeyUp:A,hot:!1,variant:"outlined"})),S(O.a,{mt:2},S(b.a,{label:"\u518d\u6b21\u8f93\u5165\u5bc6\u7801",onChange:U("passwordT"),errorText:C.errPWText,onKeyUp:A,hot:!1,variant:"outlined"})),C.err&&C.err.length>0?S(O.a,{mt:2},S(w.a,{des:C.err,callback:function(){return W(z(z({},C),{},{err:""}))}})):null,S("div",{className:n.loginTop},S(c.a,{disabled:y,className:Object(d.a)(n.login),fullWidth:!0,onClick:_,color:"primary",variant:"contained"},S(u.a,{style:{position:"absolute"}},"\u6ce8\u518c"),y&&S("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",position:"absolute"}},S(m.a,{size:28}))),S(O.a,{className:n.register,onClick:function(){return r.push(s.b+"/login")}},"\u767b\u5f55"))))},A=a.a.createElement;t.default=function(){return A(U,null)}}},[["9RDT",0,1,2,3,4,5,6,7,14]]]);